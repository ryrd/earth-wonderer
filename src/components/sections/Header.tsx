import { useEffect, useState, useRef, useContext } from 'react';
import {motion, useScroll, useSpring, useTransform, Variants} from 'framer-motion';
import Toggle from '../parts/Toggle';
import context from '../../Context';
import arrow from '../../assets/arrow.svg';
// ---------import day assets-----------
import bgDay from '../../assets/header/day/bg-day.mp4'
import personDayPng from '../../assets/header/day/person-day.png'
import personDayWebp from '../../assets/header/day/person-day.webp'
import mountainOnePng from '../../assets/header/day/mountain-1.png'
import mountainOneWebp from '../../assets/header/day/mountain-1.webp'
import mountainTwoPng from '../../assets/header/day/mountain-2.png'
import mountainTwoWebp from '../../assets/header/day/mountain-2.webp'
// ---------import night assets-----------
import bgNight from '../../assets/header/night/bg-night.mp4'
import personNightPng from '../../assets/header/night/person-night.png'
import personNightWebp from '../../assets/header/night/person-night.webp'
import mountainOneNightPng from '../../assets/header/night/mountain-1-night.png'
import mountainOneNightWebp from '../../assets/header/night/mountain-1-night.webp'
import mountainTwoNightPng from '../../assets/header/night/mountain-2-night.png'
import mountainTwoNightWebp from '../../assets/header/night/mountain-2-night.webp'

// -------------animation variant---------------
const titleAnim: Variants = {
  initial: {
    filter : 'blur(20px)',
    opacity : 0,
    scale: .5,
    x: '-50%',
  },
  animate: {
    filter : 'blur(0px)',
    opacity : 1,
    scale: 1,
    x: '-50%',
    transition: {
      duration: .5,
      ease: [.21,.8,.19,.98]
    }
  }
}

const scroll: Variants = {
  initial: {
    opacity: 0
  },
  animate: {
    opacity: 1,
  },
}

const Header = () => {
  const {darkMode} = useContext(context);

  const [titleUp, setTitleUp] = useState(false);

  // ---------video playback variable----------
  let accelamount = .1;
  let scrollpos = 0;
  let delay = 0;

  //header ref for parallax imgs
  const parallaxContainerRef = useRef(null);

  // ------------horizontal parallax variable---------
  const [personHorizontalValue, setPersonHorizontalValue] = useState(0);
  const [mountainOneHorizontalValue, setMountainOneHorizontalValue] = useState(0);
  const [mountainTwoHorizontalValue, setMountainTwoHorizontalValue] = useState(0);

  // ------------vertical speed variable-----------
  let personSpeed;
  if(window.innerHeight > window.innerWidth) personSpeed = -90
  else personSpeed = -130
  const {scrollYProgress} = useScroll({ target: parallaxContainerRef, offset: ["end end", "end start"] });
  const smoothSettings = {stiffness: 150, damping: 30, restDelta: 0.01};
  const personVerticalValue = useTransform(useSpring(scrollYProgress,smoothSettings),[0, 1], [0, personSpeed])
  const mountainOneVerticalValue = useTransform(useSpring(scrollYProgress,smoothSettings),[0, 1], [0, -65])
  const mountainTwoVerticalValue = useTransform(useSpring(scrollYProgress,smoothSettings),[0, 1], [0, -50])

  const earthRef = useRef<any>(null);
  const [itShowed, setItShowed] = useState(false);
  const showIt = () => {
    if(earthRef.current.innerText === 'WORLD') {
      setItShowed(true);
      setTimeout(() => setItShowed(false),3500);
    }
  }
  
  useEffect(() => {
    //select bg video
    const vid = document.querySelector('#vid') as any;

    //set delay/current playback value
    const scrollplay = () => {
      delay += (scrollpos-delay)*accelamount;
      vid.currentTime = delay;
    }

    //set scrollY value function
    const setScrollPos = () => scrollpos = window.scrollY/120;
   
    window.addEventListener('scroll', () => {
      setScrollPos();
      if(window.scrollY > 10) setTitleUp(true)
      else setTitleUp(false)
    });
  
    const videoInterval = setInterval(() => {
      if (scrollpos < 3) scrollplay()
      else return
    }, 33.33);

    //-------horizontal parallax-------
    const horizontalParallax = (e: MouseEvent) => {
      setPersonHorizontalValue((e.pageX*-.05)+25);
      setMountainOneHorizontalValue((e.pageX*-.015)+25);
      setMountainTwoHorizontalValue((e.pageX*-.01)+25);
    }
    window.addEventListener('mousemove', (e: MouseEvent) => horizontalParallax(e));

    return () => {
      window.removeEventListener('scroll', () => {
        setScrollPos();
        if(window.scrollY > 10) setTitleUp(true)
        else setTitleUp(false)
      });
      window.removeEventListener('mousemove', (e: MouseEvent) => horizontalParallax(e));
      clearInterval(videoInterval);
    }
  }, [])

  return (
    <div className='min-h-[600px] h-[90vh] md:portrait:h-[75vh] md:h-screen relative overflow-hidden'
         ref={parallaxContainerRef}>
      <Toggle/>

      <div className='h-full bg-cover'>
        <video src={darkMode ? bgNight : bgDay} id='vid' className='h-full sm:w-screen object-cover'></video>
      </div>

      <motion.picture className='absolute -bottom-[2vh] -right-[15vw] w-[150vw] 
                                          sm:-bottom-[10vh] sm:-right-[20vw] sm:w-screen
                                  transition duration-300 ease-out md:transition-none'
                      style={{y: mountainTwoVerticalValue, x: mountainTwoHorizontalValue}}>
          <source src={darkMode ? mountainTwoNightWebp : mountainTwoWebp} type="image/webp"/>
          <source src={darkMode ? mountainTwoNightPng : mountainTwoPng} type="image/png"/>
          <img src={darkMode ? mountainTwoNightWebp : mountainTwoWebp} className='w-full'/>
      </motion.picture>
      
      <motion.picture className='absolute -left-[30vw] -bottom-[10vw] w-[150vw] 
                                          sm:-left-[15vw] sm:-bottom-[13vh] sm:w-screen
                                  transition duration-300 ease-out md:transition-none'
                      style={{y: mountainOneVerticalValue, x: mountainOneHorizontalValue}}>
          <source src={darkMode ? mountainOneNightWebp : mountainOneWebp} type="image/webp"/>
          <source src={darkMode ? mountainOneNightPng : mountainOnePng} type="image/png"/>
          <img src={darkMode ? mountainOneNightWebp : mountainOneWebp} className='w-full'/>
      </motion.picture>

      <motion.div className='absolute top-[15vh] md:top-[13vh] text-white font-anton uppercase text-center left-1/2 -translate-x-1/2 drop-shadow-lg transition duration-700 ease-out'
                  variants={titleAnim} initial='initial' animate={titleUp ? {y: '-50%', scale: 1} : 'animate'}>
        <div className='flex items-center justify-center z-10'>
          <div className='h-[2px] portrait:w-[20vw] landscape:w-[10vw] bg-gradient-to-r from-transparent to-offwhite'/>
          <h1 className='text-5xl md:text-[5vw] mx-4 z-10' 
              contentEditable suppressContentEditableWarning={true}
              ref={earthRef}
              >
                earth
          </h1>
          <div className='h-[2px] portrait:w-[20vw] landscape:w-[10vw] bg-gradient-to-l from-transparent to-offwhite'/>
        </div>
        <h1 className='text-7xl md:text-[10vw] z-0'>wonderer</h1>
      </motion.div>

      <div className={`${itShowed ? 'flex' : 'hidden'} justify-start w-full h-full absolute top-0 left-0 bg-black`}>
        <svg className='w-full h-[80%] landscape:-translate-y-[15%] landscape:-translate-x-[20%]' viewBox="0 0 291 237" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="291" height="237" fill="black"/>
          <path d="M15.4941 91.5952C15.5023 91.5952 15.5104 91.5952 15.5186 91.5952C15.8604 91.5871 16.1126 91.4365 16.2754 91.1436C16.4382 90.8343 16.5155 90.4396 16.5073 89.9595V83.27C16.5073 82.8224 16.4219 82.4562 16.251 82.1714C16.0964 81.911 15.8604 81.7808 15.543 81.7808C15.5186 81.7808 15.4901 81.7808 15.4575 81.7808C15.1239 81.8052 14.7576 81.9639 14.3589 82.2568V91.2412C14.7576 91.4772 15.1361 91.5952 15.4941 91.5952ZM19.7666 93.0356C19.2214 93.8494 18.4401 94.2563 17.4229 94.2563C16.4056 94.2563 15.3843 93.8088 14.3589 92.9136V94H10.2817V73.7607H14.3589V80.6089C15.3354 79.7381 16.3405 79.3027 17.374 79.3027C17.4229 79.3027 17.4676 79.3027 17.5083 79.3027C18.55 79.3353 19.3231 79.7503 19.8276 80.5479C20.3403 81.3454 20.5967 82.3545 20.5967 83.5752V89.7397C20.5967 91.1151 20.32 92.2137 19.7666 93.0356ZM26.8008 85.1255H28.7905V83.6851C28.7905 83.1479 28.701 82.7695 28.522 82.5498C28.3429 82.3219 28.0866 82.208 27.7529 82.208C27.4355 82.208 27.1955 82.3382 27.0327 82.5986C26.8781 82.859 26.8008 83.3026 26.8008 83.9292V85.1255ZM27.7651 94.2563C26.1701 94.2563 24.9372 93.8291 24.0664 92.9746C23.1956 92.1201 22.7603 90.9157 22.7603 89.3613V84.1855C22.7603 82.6312 23.1956 81.4308 24.0664 80.5845C24.9453 79.73 26.1782 79.3027 27.7651 79.3027C29.3683 79.3027 30.5687 79.7178 31.3662 80.5479C32.1719 81.3698 32.5747 82.5824 32.5747 84.1855V87.0298H26.8008V89.5688C26.8008 90.1548 26.874 90.5983 27.0205 90.8994C27.167 91.1924 27.4152 91.3389 27.7651 91.3389C28.4487 91.3389 28.7905 90.8709 28.7905 89.9351V88.9707H32.5747V89.813C32.5747 91.2534 32.1515 92.3561 31.3052 93.1211C30.467 93.8779 29.2869 94.2563 27.7651 94.2563ZM39.3647 91.4487C39.5601 91.4487 39.7594 91.3836 39.9629 91.2534C40.1745 91.1151 40.3454 90.9523 40.4756 90.7651V86.8101C39.8245 87.1356 39.2874 87.5954 38.8643 88.1895C38.4492 88.7754 38.2417 89.3491 38.2417 89.9106C38.2417 90.3826 38.3475 90.757 38.5591 91.0337C38.7707 91.3104 39.0392 91.4487 39.3647 91.4487ZM37.8877 94.2563C36.8623 94.2401 36.0444 93.8779 35.4341 93.1699C34.8319 92.4538 34.5308 91.64 34.5308 90.7285C34.5308 90.2565 34.5877 89.8171 34.7017 89.4102C34.8237 88.9951 34.9661 88.637 35.1289 88.3359C35.2998 88.0348 35.5358 87.7419 35.8369 87.457C36.138 87.1722 36.4106 86.9443 36.6548 86.7734C36.8989 86.5944 37.2204 86.4072 37.6191 86.2119C38.026 86.0085 38.3516 85.8579 38.5957 85.7603C38.8398 85.6626 39.1694 85.5365 39.5845 85.3818C40.0076 85.2191 40.3047 85.1011 40.4756 85.0278V83.5996C40.4756 83.1927 40.4146 82.8794 40.2925 82.6597C40.1704 82.4399 39.9466 82.3301 39.6211 82.3301C39.0677 82.3301 38.7747 82.7126 38.7422 83.4775L38.6445 84.5396L34.8359 84.3931C34.8359 84.3687 34.84 84.2873 34.8481 84.1489C34.8563 84.0106 34.8604 83.9333 34.8604 83.917C34.9824 82.3382 35.4707 81.1745 36.3252 80.4258C37.1878 79.6771 38.4167 79.3027 40.0117 79.3027C41.4359 79.3027 42.5182 79.6974 43.2588 80.4868C44.0075 81.2762 44.3818 82.3301 44.3818 83.6484V90.3745C44.3818 91.3022 44.4673 92.5107 44.6382 94H41.0127C40.8011 92.8281 40.6872 92.1445 40.6709 91.9492C40.4756 92.6084 40.1419 93.1577 39.6699 93.5972C39.1979 94.0366 38.6038 94.2563 37.8877 94.2563ZM49.4751 94.2441C48.6206 94.2441 47.9655 93.9308 47.5098 93.3042C47.054 92.6776 46.8262 91.8719 46.8262 90.8872V79.5469H50.9033V90.3989C50.9033 90.757 50.9644 91.0296 51.0864 91.2168C51.2166 91.3958 51.4323 91.4813 51.7334 91.4731C52.0589 91.465 52.4455 91.3185 52.8931 91.0337V79.5469H56.9702V94H52.8931V92.6694C51.7782 93.7192 50.6388 94.2441 49.4751 94.2441ZM63.748 94.1709C63.3005 94.1546 62.8936 94.0936 62.5273 93.9878C62.1693 93.8739 61.8641 93.7314 61.6118 93.5605C61.3595 93.3896 61.1398 93.174 60.9526 92.9136C60.7655 92.6532 60.6149 92.3846 60.501 92.1079C60.3952 91.8312 60.3097 91.5098 60.2446 91.1436C60.1795 90.7773 60.1348 90.4274 60.1104 90.0938C60.0859 89.752 60.0737 89.3695 60.0737 88.9463V82.208H58.6943V79.5469H60.0737V75.1646H64.1875V79.5469H66.2627V82.208H64.1875V89.6787C64.1875 90.4355 64.6229 90.8262 65.4937 90.8506C65.5994 90.8587 65.7174 90.8587 65.8477 90.8506C65.986 90.8424 66.0959 90.8343 66.1772 90.8262C66.2668 90.8099 66.3522 90.7936 66.4336 90.7773C66.5231 90.7611 66.5719 90.7529 66.5801 90.7529V93.9634C65.7093 94.1099 64.9036 94.1831 64.1631 94.1831C64.0247 94.1831 63.8864 94.179 63.748 94.1709ZM68.6216 77.1177V74.249H72.7231V77.1177H68.6216ZM68.646 94V79.5469H72.7231V94H68.646ZM75.9365 94V82.3179H74.5571V79.5469H75.9365V78.5337C75.9365 78.0617 75.9528 77.6589 75.9854 77.3252C76.0179 76.9834 76.083 76.6375 76.1807 76.2876C76.2783 75.9377 76.4167 75.6488 76.5957 75.4209C76.7829 75.193 77.0189 74.9896 77.3037 74.8105C77.5967 74.6234 77.9588 74.485 78.3901 74.3955C78.8215 74.306 79.326 74.2612 79.9038 74.2612C80.4897 74.2612 81.1367 74.3019 81.8447 74.3833V77.4106C81.3809 77.3374 81.096 77.3008 80.9902 77.3008C80.3392 77.3008 80.0137 77.6711 80.0137 78.4116V79.5469H81.8447V82.3179H80.0137V94H75.9365ZM86.0591 94.2441C85.2046 94.2441 84.5495 93.9308 84.0938 93.3042C83.638 92.6776 83.4102 91.8719 83.4102 90.8872V79.5469H87.4873V90.3989C87.4873 90.757 87.5483 91.0296 87.6704 91.2168C87.8006 91.3958 88.0163 91.4813 88.3174 91.4731C88.6429 91.465 89.0295 91.3185 89.4771 91.0337V79.5469H93.5542V94H89.4771V92.6694C88.3621 93.7192 87.2228 94.2441 86.0591 94.2441ZM96.4014 94V73.7607H100.479V94H96.4014ZM113.521 85.1255H115.511V83.6851C115.511 83.1479 115.422 82.7695 115.243 82.5498C115.064 82.3219 114.807 82.208 114.474 82.208C114.156 82.208 113.916 82.3382 113.753 82.5986C113.599 82.859 113.521 83.3026 113.521 83.9292V85.1255ZM114.486 94.2563C112.891 94.2563 111.658 93.8291 110.787 92.9746C109.916 92.1201 109.481 90.9157 109.481 89.3613V84.1855C109.481 82.6312 109.916 81.4308 110.787 80.5845C111.666 79.73 112.899 79.3027 114.486 79.3027C116.089 79.3027 117.289 79.7178 118.087 80.5479C118.893 81.3698 119.295 82.5824 119.295 84.1855V87.0298H113.521V89.5688C113.521 90.1548 113.595 90.5983 113.741 90.8994C113.888 91.1924 114.136 91.3389 114.486 91.3389C115.169 91.3389 115.511 90.8709 115.511 89.9351V88.9707H119.295V89.813C119.295 91.2534 118.872 92.3561 118.026 93.1211C117.188 93.8779 116.008 94.2563 114.486 94.2563ZM126.085 91.4487C126.281 91.4487 126.48 91.3836 126.684 91.2534C126.895 91.1151 127.066 90.9523 127.196 90.7651V86.8101C126.545 87.1356 126.008 87.5954 125.585 88.1895C125.17 88.7754 124.962 89.3491 124.962 89.9106C124.962 90.3826 125.068 90.757 125.28 91.0337C125.491 91.3104 125.76 91.4487 126.085 91.4487ZM124.608 94.2563C123.583 94.2401 122.765 93.8779 122.155 93.1699C121.553 92.4538 121.251 91.64 121.251 90.7285C121.251 90.2565 121.308 89.8171 121.422 89.4102C121.544 88.9951 121.687 88.637 121.85 88.3359C122.021 88.0348 122.257 87.7419 122.558 87.457C122.859 87.1722 123.131 86.9443 123.375 86.7734C123.62 86.5944 123.941 86.4072 124.34 86.2119C124.747 86.0085 125.072 85.8579 125.316 85.7603C125.561 85.6626 125.89 85.5365 126.305 85.3818C126.728 85.2191 127.025 85.1011 127.196 85.0278V83.5996C127.196 83.1927 127.135 82.8794 127.013 82.6597C126.891 82.4399 126.667 82.3301 126.342 82.3301C125.788 82.3301 125.495 82.7126 125.463 83.4775L125.365 84.5396L121.557 84.3931C121.557 84.3687 121.561 84.2873 121.569 84.1489C121.577 84.0106 121.581 83.9333 121.581 83.917C121.703 82.3382 122.191 81.1745 123.046 80.4258C123.909 79.6771 125.137 79.3027 126.732 79.3027C128.157 79.3027 129.239 79.6974 129.979 80.4868C130.728 81.2762 131.103 82.3301 131.103 83.6484V90.3745C131.103 91.3022 131.188 92.5107 131.359 94H127.733C127.522 92.8281 127.408 92.1445 127.392 91.9492C127.196 92.6084 126.863 93.1577 126.391 93.5972C125.919 94.0366 125.325 94.2563 124.608 94.2563ZM133.718 94V79.5469H137.795V81.9517C138.682 80.2264 139.646 79.3638 140.688 79.3638C140.834 79.3638 141.026 79.3963 141.262 79.4614V83.0747C141.034 83.0177 140.81 82.9893 140.59 82.9893C139.475 83.0462 138.544 83.6281 137.795 84.7349V94H133.718ZM147.173 94.1709C146.725 94.1546 146.318 94.0936 145.952 93.9878C145.594 93.8739 145.289 93.7314 145.037 93.5605C144.784 93.3896 144.565 93.174 144.377 92.9136C144.19 92.6532 144.04 92.3846 143.926 92.1079C143.82 91.8312 143.735 91.5098 143.669 91.1436C143.604 90.7773 143.56 90.4274 143.535 90.0938C143.511 89.752 143.499 89.3695 143.499 88.9463V82.208H142.119V79.5469H143.499V75.1646H147.612V79.5469H149.688V82.208H147.612V89.6787C147.612 90.4355 148.048 90.8262 148.918 90.8506C149.024 90.8587 149.142 90.8587 149.272 90.8506C149.411 90.8424 149.521 90.8343 149.602 90.8262C149.692 90.8099 149.777 90.7936 149.858 90.7773C149.948 90.7611 149.997 90.7529 150.005 90.7529V93.9634C149.134 94.1099 148.328 94.1831 147.588 94.1831C147.45 94.1831 147.311 94.179 147.173 94.1709ZM152.059 94V73.7607H156.136V80.8408C157.161 79.8154 158.337 79.3027 159.664 79.3027C160.518 79.3027 161.173 79.616 161.629 80.2427C162.085 80.8693 162.312 81.675 162.312 82.6597V94H158.235V83.27C158.235 82.9038 158.178 82.6353 158.064 82.4644C157.951 82.2853 157.739 82.1999 157.43 82.208C157.072 82.208 156.64 82.383 156.136 82.7329V94H152.059ZM15.4453 125.595C15.4535 125.595 15.4616 125.595 15.4697 125.595C15.8115 125.587 16.0638 125.437 16.2266 125.144C16.3893 124.834 16.4748 124.44 16.4829 123.959V117.27C16.4829 116.831 16.3934 116.464 16.2144 116.171C16.0516 115.911 15.8197 115.781 15.5186 115.781C15.486 115.781 15.4494 115.781 15.4087 115.781C15.0994 115.805 14.7454 115.964 14.3467 116.257V125.241C14.7373 125.477 15.1035 125.595 15.4453 125.595ZM10.2695 132.761V113.547H14.3467V114.609C15.3395 113.738 16.3405 113.303 17.3496 113.303C17.3984 113.303 17.4432 113.303 17.4839 113.303C18.5256 113.335 19.2987 113.75 19.8032 114.548C20.3159 115.345 20.5723 116.354 20.5723 117.575V123.74C20.5723 125.115 20.2956 126.214 19.7422 127.036C19.1969 127.849 18.4157 128.256 17.3984 128.256C16.3893 128.256 15.3721 127.809 14.3467 126.914V132.761H10.2695ZM27.4722 125.449C27.6675 125.449 27.8669 125.384 28.0703 125.253C28.2819 125.115 28.4528 124.952 28.583 124.765V120.81C27.932 121.136 27.3949 121.595 26.9717 122.189C26.5566 122.775 26.3491 123.349 26.3491 123.911C26.3491 124.383 26.4549 124.757 26.6665 125.034C26.8781 125.31 27.1466 125.449 27.4722 125.449ZM25.9951 128.256C24.9697 128.24 24.1519 127.878 23.5415 127.17C22.9393 126.454 22.6382 125.64 22.6382 124.729C22.6382 124.257 22.6951 123.817 22.8091 123.41C22.9312 122.995 23.0736 122.637 23.2363 122.336C23.4072 122.035 23.6432 121.742 23.9443 121.457C24.2454 121.172 24.5181 120.944 24.7622 120.773C25.0063 120.594 25.3278 120.407 25.7266 120.212C26.1335 120.008 26.459 119.858 26.7031 119.76C26.9473 119.663 27.2769 119.536 27.6919 119.382C28.1151 119.219 28.4121 119.101 28.583 119.028V117.6C28.583 117.193 28.522 116.879 28.3999 116.66C28.2778 116.44 28.054 116.33 27.7285 116.33C27.1751 116.33 26.8822 116.713 26.8496 117.478L26.752 118.54L22.9434 118.393C22.9434 118.369 22.9474 118.287 22.9556 118.149C22.9637 118.011 22.9678 117.933 22.9678 117.917C23.0898 116.338 23.5781 115.174 24.4326 114.426C25.2952 113.677 26.5241 113.303 28.1191 113.303C29.5433 113.303 30.6257 113.697 31.3662 114.487C32.1149 115.276 32.4893 116.33 32.4893 117.648V124.375C32.4893 125.302 32.5747 126.511 32.7456 128H29.1201C28.9085 126.828 28.7946 126.145 28.7783 125.949C28.583 126.608 28.2493 127.158 27.7773 127.597C27.3053 128.037 26.7113 128.256 25.9951 128.256ZM35.0679 111.118V108.249H39.1694V111.118H35.0679ZM35.0923 128V113.547H39.1694V128H35.0923ZM41.8457 128V113.547H45.9229V114.987C47.0703 113.864 48.2381 113.303 49.4263 113.303C50.2808 113.303 50.9359 113.616 51.3916 114.243C51.8473 114.869 52.0752 115.675 52.0752 116.66V128H47.998V117.27C47.998 116.904 47.9411 116.635 47.8271 116.464C47.7132 116.285 47.5016 116.2 47.1924 116.208C46.8506 116.208 46.4274 116.375 45.9229 116.708V128H41.8457ZM55.2031 128V116.318H53.8237V113.547H55.2031V112.534C55.2031 112.062 55.2194 111.659 55.252 111.325C55.2845 110.983 55.3496 110.638 55.4473 110.288C55.5449 109.938 55.6833 109.649 55.8623 109.421C56.0495 109.193 56.2855 108.99 56.5703 108.811C56.8633 108.623 57.2254 108.485 57.6567 108.396C58.0881 108.306 58.5926 108.261 59.1704 108.261C59.7563 108.261 60.4033 108.302 61.1113 108.383V111.411C60.6475 111.337 60.3626 111.301 60.2568 111.301C59.6058 111.301 59.2803 111.671 59.2803 112.412V113.547H61.1113V116.318H59.2803V128H55.2031ZM65.3257 128.244C64.4712 128.244 63.8161 127.931 63.3604 127.304C62.9046 126.678 62.6768 125.872 62.6768 124.887V113.547H66.7539V124.399C66.7539 124.757 66.8149 125.03 66.937 125.217C67.0672 125.396 67.2829 125.481 67.584 125.473C67.9095 125.465 68.2961 125.319 68.7437 125.034V113.547H72.8208V128H68.7437V126.669C67.6287 127.719 66.4894 128.244 65.3257 128.244ZM75.668 128V107.761H79.7451V128H75.668ZM90.4199 128L88.2837 113.547H91.6895L92.7271 121.75L93.8745 113.547H96.8164L97.8052 121.933L99.0137 113.547H102.175L99.9902 128H96.5112L95.2661 119.907L93.8867 128H90.4199ZM112.579 127.036C111.683 127.849 110.446 128.256 108.868 128.256C107.289 128.256 106.056 127.849 105.169 127.036C104.282 126.222 103.838 125.046 103.838 123.508V118.051C103.838 116.505 104.282 115.329 105.169 114.523C106.056 113.71 107.289 113.303 108.868 113.303C110.446 113.303 111.683 113.71 112.579 114.523C113.482 115.337 113.934 116.513 113.934 118.051V123.508C113.934 125.046 113.482 126.222 112.579 127.036ZM108.868 125.522C109.258 125.522 109.527 125.38 109.673 125.095C109.828 124.802 109.905 124.366 109.905 123.789V117.771C109.905 117.185 109.828 116.749 109.673 116.464C109.527 116.171 109.258 116.025 108.868 116.025C108.493 116.025 108.229 116.175 108.074 116.477C107.928 116.77 107.854 117.201 107.854 117.771V123.789C107.854 124.35 107.928 124.781 108.074 125.083C108.229 125.375 108.493 125.522 108.868 125.522ZM116.378 128V113.547H120.455V115.952C121.342 114.226 122.306 113.364 123.348 113.364C123.495 113.364 123.686 113.396 123.922 113.461V117.075C123.694 117.018 123.47 116.989 123.25 116.989C122.136 117.046 121.204 117.628 120.455 118.735V128H116.378ZM125.902 128V107.761H129.979V128H125.902ZM137.624 125.632C137.909 125.632 138.263 125.514 138.686 125.278V116.184C138.328 115.972 137.982 115.866 137.648 115.866C137.29 115.866 137.026 116.013 136.855 116.306C136.684 116.59 136.599 116.965 136.599 117.429V124.021C136.599 124.493 136.68 124.879 136.843 125.18C137.006 125.481 137.266 125.632 137.624 125.632ZM135.866 128.256C134.776 128.256 133.942 127.878 133.364 127.121C132.794 126.364 132.509 125.241 132.509 123.752V117.88C132.509 116.505 132.794 115.398 133.364 114.56C133.942 113.722 134.776 113.303 135.866 113.303C136.867 113.303 137.807 113.681 138.686 114.438V107.761H142.763V128H138.686V126.901C137.766 127.797 136.826 128.248 135.866 128.256ZM14.9814 162.256C13.3945 162.256 12.1657 161.829 11.2949 160.975C10.4242 160.112 9.98877 158.912 9.98877 157.374V152.149C9.98877 150.619 10.4242 149.431 11.2949 148.584C12.1657 147.73 13.3945 147.303 14.9814 147.303C16.5439 147.303 17.7443 147.669 18.5825 148.401C19.4289 149.126 19.8521 150.208 19.8521 151.648V153.174H15.9214V151.539C15.9214 150.985 15.8441 150.607 15.6895 150.403C15.543 150.2 15.311 150.098 14.9937 150.098C14.6763 150.098 14.4443 150.224 14.2979 150.477C14.1514 150.729 14.0781 151.164 14.0781 151.783V157.776C14.0781 158.403 14.1514 158.834 14.2979 159.07C14.4525 159.306 14.6844 159.424 14.9937 159.424C15.311 159.424 15.543 159.319 15.6895 159.107C15.8441 158.887 15.9214 158.525 15.9214 158.021V156.116H19.8521V157.862C19.8521 159.294 19.4248 160.385 18.5703 161.133C17.724 161.882 16.5277 162.256 14.9814 162.256ZM22.1621 162V147.547H26.2393V149.952C27.1263 148.226 28.0907 147.364 29.1323 147.364C29.2788 147.364 29.4701 147.396 29.7061 147.461V151.075C29.4782 151.018 29.2544 150.989 29.0347 150.989C27.9198 151.046 26.988 151.628 26.2393 152.735V162H22.1621ZM34.0425 162.244C33.188 162.244 32.5329 161.931 32.0771 161.304C31.6214 160.678 31.3936 159.872 31.3936 158.887V147.547H35.4707V158.399C35.4707 158.757 35.5317 159.03 35.6538 159.217C35.784 159.396 35.9997 159.481 36.3008 159.473C36.6263 159.465 37.0129 159.319 37.4604 159.034V147.547H41.5376V162H37.4604V160.669C36.3455 161.719 35.2062 162.244 34.0425 162.244ZM47.9736 153.125H49.9634V151.685C49.9634 151.148 49.8739 150.77 49.6948 150.55C49.5158 150.322 49.2594 150.208 48.9258 150.208C48.6084 150.208 48.3683 150.338 48.2056 150.599C48.0509 150.859 47.9736 151.303 47.9736 151.929V153.125ZM48.938 162.256C47.3429 162.256 46.11 161.829 45.2393 160.975C44.3685 160.12 43.9331 158.916 43.9331 157.361V152.186C43.9331 150.631 44.3685 149.431 45.2393 148.584C46.1182 147.73 47.3511 147.303 48.938 147.303C50.5412 147.303 51.7415 147.718 52.5391 148.548C53.3447 149.37 53.7476 150.582 53.7476 152.186V155.03H47.9736V157.569C47.9736 158.155 48.0469 158.598 48.1934 158.899C48.3398 159.192 48.5881 159.339 48.938 159.339C49.6216 159.339 49.9634 158.871 49.9634 157.935V156.971H53.7476V157.813C53.7476 159.253 53.3244 160.356 52.478 161.121C51.6398 161.878 50.4598 162.256 48.938 162.256ZM56.2529 162V141.761H60.3301V162H56.2529ZM74.0688 159.449C74.2642 159.449 74.4635 159.384 74.667 159.253C74.8786 159.115 75.0495 158.952 75.1797 158.765V154.81C74.5286 155.136 73.9915 155.595 73.5684 156.189C73.1533 156.775 72.9458 157.349 72.9458 157.911C72.9458 158.383 73.0516 158.757 73.2632 159.034C73.4748 159.31 73.7433 159.449 74.0688 159.449ZM72.5918 162.256C71.5664 162.24 70.7485 161.878 70.1382 161.17C69.536 160.454 69.2349 159.64 69.2349 158.729C69.2349 158.257 69.2918 157.817 69.4058 157.41C69.5278 156.995 69.6702 156.637 69.833 156.336C70.0039 156.035 70.2399 155.742 70.541 155.457C70.8421 155.172 71.1147 154.944 71.3589 154.773C71.603 154.594 71.9245 154.407 72.3232 154.212C72.7301 154.008 73.0557 153.858 73.2998 153.76C73.5439 153.663 73.8735 153.536 74.2886 153.382C74.7118 153.219 75.0088 153.101 75.1797 153.028V151.6C75.1797 151.193 75.1187 150.879 74.9966 150.66C74.8745 150.44 74.6507 150.33 74.3252 150.33C73.7718 150.33 73.4788 150.713 73.4463 151.478L73.3486 152.54L69.54 152.393C69.54 152.369 69.5441 152.287 69.5522 152.149C69.5604 152.011 69.5645 151.933 69.5645 151.917C69.6865 150.338 70.1748 149.174 71.0293 148.426C71.8919 147.677 73.1208 147.303 74.7158 147.303C76.14 147.303 77.2223 147.697 77.9629 148.487C78.7116 149.276 79.0859 150.33 79.0859 151.648V158.375C79.0859 159.302 79.1714 160.511 79.3423 162H75.7168C75.5052 160.828 75.3913 160.145 75.375 159.949C75.1797 160.608 74.846 161.158 74.374 161.597C73.902 162.037 73.3079 162.256 72.5918 162.256ZM81.6523 162V147.547H85.7295V148.987C86.877 147.864 88.0448 147.303 89.2329 147.303C90.0874 147.303 90.7425 147.616 91.1982 148.243C91.654 148.869 91.8818 149.675 91.8818 150.66V162H87.8047V151.27C87.8047 150.904 87.7477 150.635 87.6338 150.464C87.5199 150.285 87.3083 150.2 86.999 150.208C86.6572 150.208 86.234 150.375 85.7295 150.708V162H81.6523ZM99.3799 159.632C99.6647 159.632 100.019 159.514 100.442 159.278V150.184C100.084 149.972 99.738 149.866 99.4043 149.866C99.0462 149.866 98.7817 150.013 98.6108 150.306C98.4399 150.59 98.3545 150.965 98.3545 151.429V158.021C98.3545 158.493 98.4359 158.879 98.5986 159.18C98.7614 159.481 99.0218 159.632 99.3799 159.632ZM97.6221 162.256C96.5316 162.256 95.6974 161.878 95.1196 161.121C94.55 160.364 94.2651 159.241 94.2651 157.752V151.88C94.2651 150.505 94.55 149.398 95.1196 148.56C95.6974 147.722 96.5316 147.303 97.6221 147.303C98.623 147.303 99.563 147.681 100.442 148.438V141.761H104.519V162H100.442V160.901C99.5223 161.797 98.5824 162.248 97.6221 162.256ZM117.977 162.256C116.748 162.256 115.727 161.967 114.913 161.39C114.099 160.804 113.444 159.88 112.948 158.619L115.768 157.386C116.044 158.069 116.37 158.598 116.744 158.973C117.078 159.314 117.428 159.485 117.794 159.485C117.835 159.485 117.875 159.485 117.916 159.485C118.168 159.469 118.38 159.371 118.551 159.192C118.722 159.005 118.803 158.777 118.795 158.509C118.787 158.37 118.734 158.224 118.636 158.069C118.547 157.907 118.372 157.703 118.111 157.459C117.851 157.207 117.668 157.036 117.562 156.946C117.464 156.857 117.232 156.657 116.866 156.348L115.743 155.384C114.107 154 113.29 152.649 113.29 151.331C113.281 150.55 113.489 149.846 113.912 149.219C114.319 148.601 114.86 148.129 115.536 147.803C116.211 147.47 116.944 147.303 117.733 147.303C118.913 147.303 119.898 147.624 120.687 148.267C121.485 148.91 122.046 149.826 122.372 151.014L119.735 152.247C119.572 151.701 119.336 151.221 119.027 150.806C118.718 150.391 118.368 150.171 117.977 150.147C117.961 150.147 117.949 150.147 117.94 150.147C117.647 150.139 117.42 150.216 117.257 150.379C117.078 150.542 116.984 150.745 116.976 150.989C116.944 151.38 117.521 152.072 118.709 153.064C118.807 153.154 118.88 153.219 118.929 153.26L120.016 154.236C120.439 154.603 120.756 154.891 120.968 155.103C121.179 155.306 121.436 155.591 121.737 155.958C122.038 156.324 122.254 156.698 122.384 157.081C122.522 157.463 122.591 157.874 122.591 158.313C122.591 159.135 122.372 159.852 121.932 160.462C121.493 161.072 120.927 161.524 120.235 161.817C119.552 162.11 118.799 162.256 117.977 162.256ZM128.539 162.171C128.091 162.155 127.685 162.094 127.318 161.988C126.96 161.874 126.655 161.731 126.403 161.561C126.151 161.39 125.931 161.174 125.744 160.914C125.556 160.653 125.406 160.385 125.292 160.108C125.186 159.831 125.101 159.51 125.036 159.144C124.971 158.777 124.926 158.427 124.901 158.094C124.877 157.752 124.865 157.369 124.865 156.946V150.208H123.485V147.547H124.865V143.165H128.979V147.547H131.054V150.208H128.979V157.679C128.979 158.436 129.414 158.826 130.285 158.851C130.39 158.859 130.508 158.859 130.639 158.851C130.777 158.842 130.887 158.834 130.968 158.826C131.058 158.81 131.143 158.794 131.225 158.777C131.314 158.761 131.363 158.753 131.371 158.753V161.963C130.5 162.11 129.695 162.183 128.954 162.183C128.816 162.183 128.677 162.179 128.539 162.171ZM135.927 162.244C135.073 162.244 134.418 161.931 133.962 161.304C133.506 160.678 133.278 159.872 133.278 158.887V147.547H137.355V158.399C137.355 158.757 137.417 159.03 137.539 159.217C137.669 159.396 137.884 159.481 138.186 159.473C138.511 159.465 138.898 159.319 139.345 159.034V147.547H143.422V162H139.345V160.669C138.23 161.719 137.091 162.244 135.927 162.244ZM151.274 159.595C151.283 159.595 151.291 159.595 151.299 159.595C151.641 159.587 151.893 159.437 152.056 159.144C152.218 158.834 152.304 158.44 152.312 157.959V151.27C152.312 150.831 152.222 150.464 152.043 150.171C151.881 149.911 151.649 149.781 151.348 149.781C151.315 149.781 151.278 149.781 151.238 149.781C150.929 149.805 150.575 149.964 150.176 150.257V159.241C150.566 159.477 150.933 159.595 151.274 159.595ZM146.099 166.761V147.547H150.176V148.609C151.169 147.738 152.17 147.303 153.179 147.303C153.228 147.303 153.272 147.303 153.313 147.303C154.355 147.335 155.128 147.75 155.632 148.548C156.145 149.345 156.401 150.354 156.401 151.575V157.74C156.401 159.115 156.125 160.214 155.571 161.036C155.026 161.849 154.245 162.256 153.228 162.256C152.218 162.256 151.201 161.809 150.176 160.914V166.761H146.099ZM158.858 145.118V142.249H162.959V145.118H158.858ZM158.882 162V147.547H162.959V162H158.882ZM170.543 159.632C170.828 159.632 171.182 159.514 171.605 159.278V150.184C171.247 149.972 170.901 149.866 170.567 149.866C170.209 149.866 169.945 150.013 169.774 150.306C169.603 150.59 169.518 150.965 169.518 151.429V158.021C169.518 158.493 169.599 158.879 169.762 159.18C169.924 159.481 170.185 159.632 170.543 159.632ZM168.785 162.256C167.695 162.256 166.861 161.878 166.283 161.121C165.713 160.364 165.428 159.241 165.428 157.752V151.88C165.428 150.505 165.713 149.398 166.283 148.56C166.861 147.722 167.695 147.303 168.785 147.303C169.786 147.303 170.726 147.681 171.605 148.438V141.761H175.682V162H171.605V160.901C170.685 161.797 169.745 162.248 168.785 162.256ZM184.929 162V141.761H189.006V148.841C190.031 147.815 191.207 147.303 192.534 147.303C193.388 147.303 194.043 147.616 194.499 148.243C194.955 148.869 195.183 149.675 195.183 150.66V162H191.105V151.27C191.105 150.904 191.049 150.635 190.935 150.464C190.821 150.285 190.609 150.2 190.3 150.208C189.942 150.208 189.51 150.383 189.006 150.733V162H184.929ZM200.3 162.244C199.446 162.244 198.791 161.931 198.335 161.304C197.879 160.678 197.651 159.872 197.651 158.887V147.547H201.729V158.399C201.729 158.757 201.79 159.03 201.912 159.217C202.042 159.396 202.257 159.481 202.559 159.473C202.884 159.465 203.271 159.319 203.718 159.034V147.547H207.795V162H203.718V160.669C202.603 161.719 201.464 162.244 200.3 162.244ZM210.472 162V147.547H214.463V148.719C215.432 147.758 216.579 147.278 217.906 147.278C218.475 147.278 218.972 147.425 219.395 147.718C219.826 148.011 220.152 148.434 220.372 148.987C221.389 147.848 222.622 147.278 224.07 147.278C224.917 147.278 225.592 147.588 226.097 148.206C226.601 148.825 226.854 149.679 226.854 150.77V162H222.85V151.185C222.85 150.786 222.78 150.497 222.642 150.318C222.504 150.139 222.288 150.057 221.995 150.074C221.556 150.09 221.112 150.265 220.665 150.599V150.77V162H216.697V151.185C216.697 150.794 216.624 150.509 216.478 150.33C216.339 150.143 216.124 150.057 215.831 150.074C215.424 150.09 214.968 150.273 214.463 150.623V162H210.472ZM233.875 159.449C234.071 159.449 234.27 159.384 234.474 159.253C234.685 159.115 234.856 158.952 234.986 158.765V154.81C234.335 155.136 233.798 155.595 233.375 156.189C232.96 156.775 232.752 157.349 232.752 157.911C232.752 158.383 232.858 158.757 233.07 159.034C233.281 159.31 233.55 159.449 233.875 159.449ZM232.398 162.256C231.373 162.24 230.555 161.878 229.945 161.17C229.343 160.454 229.042 159.64 229.042 158.729C229.042 158.257 229.098 157.817 229.212 157.41C229.334 156.995 229.477 156.637 229.64 156.336C229.811 156.035 230.047 155.742 230.348 155.457C230.649 155.172 230.921 154.944 231.166 154.773C231.41 154.594 231.731 154.407 232.13 154.212C232.537 154.008 232.862 153.858 233.106 153.76C233.351 153.663 233.68 153.536 234.095 153.382C234.518 153.219 234.815 153.101 234.986 153.028V151.6C234.986 151.193 234.925 150.879 234.803 150.66C234.681 150.44 234.457 150.33 234.132 150.33C233.578 150.33 233.285 150.713 233.253 151.478L233.155 152.54L229.347 152.393C229.347 152.369 229.351 152.287 229.359 152.149C229.367 152.011 229.371 151.933 229.371 151.917C229.493 150.338 229.981 149.174 230.836 148.426C231.699 147.677 232.927 147.303 234.522 147.303C235.947 147.303 237.029 147.697 237.77 148.487C238.518 149.276 238.893 150.33 238.893 151.648V158.375C238.893 159.302 238.978 160.511 239.149 162H235.523C235.312 160.828 235.198 160.145 235.182 159.949C234.986 160.608 234.653 161.158 234.181 161.597C233.709 162.037 233.115 162.256 232.398 162.256ZM241.459 162V147.547H245.536V148.987C246.684 147.864 247.851 147.303 249.04 147.303C249.894 147.303 250.549 147.616 251.005 148.243C251.461 148.869 251.688 149.675 251.688 150.66V162H247.611V151.27C247.611 150.904 247.554 150.635 247.44 150.464C247.326 150.285 247.115 150.2 246.806 150.208C246.464 150.208 246.041 150.375 245.536 150.708V162H241.459Z" fill="white"/>
        </svg>
      </div>

      <motion.picture className='absolute -left-[95vw] -bottom-[25vw] w-[280vw]
                                          md:portrait:-left-[6vw] md:portrait:-bottom-[5vh] md:portrait:w-[110vw]
                                          sm:-left-[1vw] sm:-bottom-[17vh] sm:w-screen
                                          2xl:-left-[1vw] 2xl:-bottom-[17vh] 2xl:w-screen
                                  transition duration-300 ease-out md:transition-none'
                      style={{y: personVerticalValue, x: personHorizontalValue}}
                      onClick={showIt}>
          <source srcSet={darkMode ? personNightWebp : personDayWebp} type="image/webp"/>
          <source srcSet={darkMode ? personNightPng : personDayPng} type="image/png"/>
          <img src={darkMode ? personNightWebp : personDayWebp} className='w-full' />
      </motion.picture>

      <div className={`absolute bottom-0 h-[80px] md:h-[100px] w-full ${darkMode ? 'header-gradient-dark' : 'header-gradient'}`}></div>

      <motion.div className='absolute bottom-[3vh] md:bottom-[5vh] left-1/2 -translate-x-1/2 font-oswald text-white font-light flex flex-col items-center text-sm md:text-base'
                  variants={titleAnim} initial='initial' animate='animate'>
        <motion.span variants={scroll} className='tracking-wide'>scroll down to explore</motion.span>
        <motion.img variants={scroll} src={arrow} alt="scroll down" className='w-6 scroll-down' />
      </motion.div>
    </div>
  )
}

export default Header